<!-- PROJECT LOGO -->
<p align="center">
<svg width="388" height="57" viewBox="0 0 388 57" fill="none" xmlns="http://www.w3.org/2000/svg">
  <style>
    :root {
      --textcolor: #1D1D1D;
      --fillcolor: #FFA217;
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --textcolor: #FFFFFF;
        --fillcolor: #CAF800;
      }
    }
  </style>
  <path d="M370.405 53.8019C359.542 53.8019 351.45 45.9286 351.45 34.9205C351.45 24.6414 358.813 16.2578 369.53 16.2578C380.319 16.2578 387.026 24.0582 387.026 34.0457V36.9617H358.449C359.251 43.0854 363.916 47.3866 370.332 47.3866C374.706 47.3866 378.642 45.4912 380.756 41.5545L386.297 44.3977C383.162 50.5214 377.403 53.8019 370.405 53.8019ZM358.74 32.2961H379.809C379.517 26.6098 375.362 22.746 369.457 22.746C363.406 22.746 359.469 26.9743 358.74 32.2961Z" fill="var(--textcolor)"/>
  <path d="M337.652 0.875488H344.87V52.9998H337.652V0.875488Z" fill="var(--textcolor)"/>
  <path d="M312.005 53.8746C301.215 53.8746 292.978 45.7826 292.978 35.2119V0.875488H300.195V21.7252C303.111 18.5176 307.485 16.4034 312.296 16.4034C323.159 16.4034 330.959 24.3497 330.959 35.2119C330.959 45.491 322.794 53.8746 312.005 53.8746ZM312.005 47.0948C318.639 47.0948 323.742 41.7001 323.742 35.139C323.742 28.6508 318.639 23.2561 312.005 23.2561C305.298 23.2561 300.195 28.6508 300.195 35.139C300.195 41.7001 305.298 47.0948 312.005 47.0948Z" fill="var(--textcolor)"/>
  <path d="M265.435 53.8745C255.083 53.8745 247.501 45.418 247.501 35.066C247.501 24.8599 255.666 16.4033 266.528 16.4033C277.318 16.4033 285.555 24.4225 285.555 35.066V52.9997H278.703V46.7302C276.005 51.1043 271.267 53.8745 265.435 53.8745ZM266.528 47.0218C273.235 47.0218 278.338 41.6271 278.338 35.1389C278.338 28.5778 273.235 23.1831 266.528 23.1831C259.894 23.1831 254.718 28.5778 254.718 35.1389C254.718 41.6271 259.894 47.0218 266.528 47.0218Z" fill="var(--textcolor)"/>
  <path d="M236.826 53.9473C227.932 53.9473 223.193 48.3339 223.193 40.1689V23.5475H216.122V17.278H223.193V8.01953H230.411V17.278H244.116V23.5475H230.411V39.9502C230.411 44.6159 233.181 47.3862 237.482 47.3862C239.815 47.3862 242.366 46.5113 244.116 45.272V51.906C242.294 53.1453 239.45 53.9473 236.826 53.9473Z" fill="var(--textcolor)"/>
  <path d="M195.139 23.3289C188.14 23.3289 184.641 29.0881 184.641 35.7221V52.9997H177.424V34.9931C177.424 24.5683 183.62 16.4033 195.139 16.4033C206.803 16.4033 213.145 24.5683 213.145 34.9202V52.9997H205.928V35.795C205.928 29.0881 202.283 23.3289 195.139 23.3289Z" fill="var(--textcolor)"/>
  <path d="M161.927 52.9999H154.71V31.7128C154.71 23.0375 159.667 16.5493 168.999 16.5493C171.259 16.5493 173.591 16.9867 175.414 17.8615V25.0059C173.664 23.9852 171.623 23.4749 169.655 23.4749C164.843 23.4749 161.927 26.7555 161.927 32.0044V52.9999Z" fill="var(--textcolor)"/>
  <path d="M130.048 46.8762C136.682 46.8762 140.327 41.117 140.327 34.483V17.2783H147.544V35.3578C147.544 45.7098 141.275 53.8747 130.048 53.8747C118.967 53.8747 112.697 45.6369 112.697 35.2849V17.2783H119.914V34.5559C119.914 41.117 123.487 46.8762 130.048 46.8762Z" fill="var(--textcolor)"/>
  <path d="M110.419 4.15625V11.009H95.4012V53H87.9652V11.009H73.0205V4.15625H110.419Z" fill="var(--textcolor)"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M44.9237 57C51.5933 57 57 51.5933 57 44.9237C55.6943 34.0135 55.6943 22.9865 57 12.0763C57 5.40679 51.5933 6.09707e-05 44.9237 6.08911e-05C34.0135 1.30574 22.9865 1.30574 12.0763 6.04994e-05C5.40679 6.04199e-05 6.16504e-05 5.40679 6.15709e-05 12.0763C1.30574 22.9865 1.30574 34.0135 6.11792e-05 44.9237C6.10996e-05 51.5933 5.40679 57 12.0763 57C22.9865 55.6943 34.0135 55.6943 44.9237 57ZM3.76179 28.502C3.76179 14.8385 14.8382 3.76203 28.5017 3.76203C42.1652 3.76203 53.2417 14.8385 53.2417 28.502C53.2417 42.1655 42.1652 53.2419 28.5017 53.2419C14.8382 53.2419 3.76179 42.1655 3.76179 28.502ZM18.4805 28.5021C18.4805 23.1405 22.897 18.7941 28.3452 18.7941C33.7933 18.7941 38.2098 23.1405 38.2098 28.5021C38.2098 33.8638 33.7933 38.2102 28.3452 38.2102C22.897 38.2102 18.4805 33.8638 18.4805 28.5021Z" fill="var(--fillcolor)"/>
  </svg>

  <p align="center">
     <span style="font-size: 24px;">An Open-Source Data Platform</span>
    <br />
    <br />
     <span style="font-size: 16px;">Metrics, Models, Jobs, Pages, End-to-end column lineage, and more!</span>
    <br />
    <span style="font-size: 16px;">Define your source of truth with an open standard.</span>
    <br />
    <a href="https://join.slack.com/t/turntable-community/shared_invite/zt-25p0olvhz-Z~c5QWq1jv2YFHQ46mMFDA">Slack</a>
    ¬∑
    <a href="https://www.turntable.so">Website</a>
    ¬∑
    <a href="https://github.com/turntable-so/turntable/issues">Issues</a>
    ¬∑
    <a href="https://turntable-so.canny.io/">Roadmap</a>
  </p>

<p align="center">
   <a href="https://join.slack.com/t/turntable-community/shared_invite/zt-25p0olvhz-Z~c5QWq1jv2YFHQ46mMFDA"><img src="https://img.shields.io/badge/Turntable%20Slack%20Community-turntable.slack.com-%234A154B" alt="Join Turntable on Slack"></a>
   <a href="https://github.com/turntable-so/turntable/stargazers"><img src="https://img.shields.io/github/stars/turntable-so/turntable" alt="Github Stars"></a>
   <!-- <a href="https://news.ycombinator.com/item?id=31424450"><img src="https://img.shields.io/badge/Hacker%20News-777-%23FF6600" alt="Hacker News"></a> -->
   <a href="https://github.com/turntable-so/blob/main/LICENSE"><img src="https://img.shields.io/badge/license-AGPLv3-blue" alt="License"></a>
   <a href="https://www.ycombinator.com/companies/turntable"><img src="https://img.shields.io/badge/Backed%20by-Y%20Combinator-%23f26625"></a>
</p>

<!-- ABOUT THE PROJECT -->
## Data toolset as good as software tools
*Placeholder: add demo here*

**The problem:** Today's data stack is highly fragmented, insecure, and overpriced.
- Most teams we've talked to have at least 5-10 tools in their data stack. They often don't work well together.
- Today's closed ecosystem is vulnerable to [security breaches](https://www.wired.com/story/snowflake-breach-advanced-auto-parts-lendingtree/) and [tool discontinuation](https://news.ycombinator.com/item?id=40750391).
- Vendor lock-in has led to [exorbitant costs](https://aws.amazon.com/marketplace/pp/prodview-tjpcf42nbnhko) and [rent-seeking behavior](https://www.fool.com/investing/2022/08/26/3-wild-metrics-highlight-snowflakes-staggering-mom/):


**The Solution:** Turntable, a post-modern data stack
- *Open:* Our whole repo is AGPL and always will be. 
- *Private:* Self-deploy our open-source version or use our cloud product with our customer-deployed agent. Either way, your data never leaves your infrastructure.
- *Integrated:* With Turntable, all of your metrics, models, and data documents exist in the same context. We think this will allow for some totally new experiences. Think clicking on a dashboard and seeing exactly where a number came from.

## ‚ú® Features
- [x] **End-to-end Column lineage**: See your data's journey from source to dashboard.
- [x] **Documentation**: See all your data assets in one place. We event write AI-generated descriptions for you (opt-in of course).
- [x] **Pages**: Write and schedule analyses, reports, and data documents in a Notion-like interface.
- [x] **Jobs**: Schedule and monitor your data pipelines.
- [ ] **Full observability suite**: Detect anomalies, monitor data quality, reduce cost, secure PII and more.
- [ ] **Metrics:** Define once, use anywhere, in pure SQL and GUI. No need to learn a new semantic layer framework. 
- [ ] **Subscriptions**: Subscribe to data assets and get notified when they change. Each user gets their own dashboard
- [ ] **Models:** Allow team members to schedule and publish sql queries that depend on one another, with best practices already built in. 
- [ ] **CLI**: Use the code editor you already love, but make secure onboarding a breeze.


## üîî Stay up to date
Lago launched its v0.1 on June 2nd, 2022. Lots of new features are coming, and are generally released on a bi-weekly basis. Watch updates of this repository to be notified of future updates.

[Check out our public roadmap](https://turntable-so.canny.io/)

## üôè Credits

Our repo stands on the shoulders of some awesome open source projects. A big reason we decided to go open source is that there are lots of players in the data space who wrap open source projects in a proprietary layer and charge a lot for it. That didn't feel right to us.

With that context, we wanted to explicitly call out some of the projects we love and how we use them:

- [Ag-Grid](https://github.com/ag-grid/ag-grid): Table component
- [DataHub](https://github.com/datahub-project/datahub): metadata ingest engine
- [Django](https://github.com/django/django): Core application framework
- [Hatchet](https://github.com/hatchet-dev/hatchet):*workflow scheduler
- [Ibis](https://github.com/ibis-project/ibis): metrics layer and database connectors
- [Instructor](https://github.com/jxnl/instructor): structured AI output
- [Lago](https://github.com/getlago/lago): inspiration for our documentation
- [Mintlify](https://github.com/mintlify): docs site generator
- [Nivo](https://github.com/plouc/nivo): charting
- [Posthog](https://github.com/posthog/posthog): analytics
- [Reactflow](https://github.com/xyflow/xyflow): lineage canvas
- [Recharts](https://github.com/recharts/recharts): charting
- [Rye](https://github.com/astral-sh/rye): package management
- [SQLGlot](https://github.com/tobymao/sqlglot): sql/lineage parser
- [TipTap](https://github.com/ueberdosis/tiptap): Text editor














## üîñ License
Distributed under the AGPLv3 License. Read more [here](https://www.getlago.com/blog/open-source-licensing-and-why-lago-chose-agplv3).

## üíª Deploy locally

### Requirements
1. Install Docker on your machine;
2. Make sure Docker Compose is installed and available (it should be the case if you have chosen to install Docker via Docker Desktop); and
3. Make sure Git is installed on your machine.

### Run the app
To start using Lago

1. Clone the repository

```bash
# Get the code
git clone https://github.com/turntable-so/turntable.git

# Go to Lago folder
cd turntable
```

2. Configure environment variables
  - Copy the `.env.example` file to `.env`
  - Set any variables (e.g. s3 credentials) you'd like for your environment
  - No environment variables except the `ENCRYPTION_KEY` are required to run the app, but some functionality may be limited (e.g. AI-written documentation)
  - Crete an encryption key by running the following command:

```bash
echo "ENCRYPTION_KEY=\"`openssl rand -base64 32`\"" >> .env
```

3. Start the app

```bash
docker compose up --env-file .env
```

You can now open your browser and go to http://localhost:3000 to connect to the application.

### Analytics and tracking for the self-hosted version
Please note that Turntable, by default, tracks basic actions performed on your self-hosted instance, but you can easily opt out as part of the onboarding flow. If you do not disable tracking, you may receive specific communications or product updates. No matter whatTurntable will not collect store or have access to any sensitive data.

If you would like to know more about Lago's analytics or remove the entire tracking, please refer to [this page](https://doc.getlago.com/guide/self-hosted/tracking-analytics) for comprehensive information.

## ‚òÅÔ∏è Use our cloud-based product
[Email us](mailto:founders@turntable.so) or visit [our website](www.turntable.so) to get started with our cloud product. Their our two vairants: a fully-hosted offering, and hybrid one, which includes a customer-deployed agent.

## üöÄ Getting the most out of Lago
- See the [documentation](https://doc.turntable.so) to learn more about all the features;
- Join our [Slack community](https://join.slack.com/t/turntable-community/shared_invite/zt-25p0olvhz-Z~c5QWq1jv2YFHQ46mMFDA) if you need help, or want to chat, we‚Äôre here to help;
- Contribute on GitHub: read our [guidelines](https://github.com/turntable-so/turntable/blob/main/CONTRIBUTING.md);
- Follow us on [Twitter](https://twitter.com/Turntable) or [LinkedIn](https://www.linkedin.com/company/turntabledata) for the latest news;
- You can email us as well: [team@turnable.so](mailto:team@turntable.so).

## üìù Contributing

You can follow the instructions below to set up ourm development environment on your machine. This is intended for people interested in contributing to Turntable. If you just want to try Turntable on your local system, we recommend that you take a look at Lago's public documentation.

For now, we are not accepting pull requests from the community, but We are working on a process to make this possible in the future. For now, file an bug reports and feature requests as a [GitHub issue](https://github.com/turntable-so/turntable/issues), [Canny submission](https://turntable-so.canny.io/) or [Slack post](https://join.slack.com/t/turntable-community/shared_invite/zt-25p0olvhz-Z~c5QWq1jv2YFHQ46mMFDA).

## üßë‚Äçüíª Development environment

To start the development environment, simply follow the instructions above to start the app, but change the final commmand to:

```bash
docker compose -f docker-compose.dev.yml up --env-file .env
```

Unlike the production environemnt, this supports hot reload and adds development resources like a test Postgres instance.

Once everything starts (this may take about a minute or more), run the command below to access the container:

```bash
docker compose exec run-worker bash
```

From here, backend tests can be run with `pytest`.


