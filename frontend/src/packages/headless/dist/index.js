'use client'
import{B as c,h as s,i as l,j as u,k as v,l as x}from"./chunk-RCJTUCCX.js";import{useCurrentEditor as No}from"@tiptap/react";import{}from"@tiptap/core";import{useMemo as N,useRef as I,forwardRef as h}from"react";import{EditorProvider as B}from"@tiptap/react";import{Provider as M}from"jotai";import S from"tunnel-rat";import{jsx as d}from"react/jsx-runtime";var g=({children:e})=>{let o=I(S()).current;return d(M,{store:l,children:d(u.Provider,{value:o,children:e})})},f=h(({className:e,children:o,initialContent:i,...r},n)=>{let t=N(()=>[...c,...r.extensions??[]],[r.extensions]);return d("div",{ref:n,className:e,children:d(B,{...r,content:i,extensions:t,children:o})})});f.displayName="EditorContent";import{BubbleMenu as w,isNodeSelection as T,useCurrentEditor as L}from"@tiptap/react";import{useMemo as D,useRef as H,useEffect as O,forwardRef as W}from"react";import{jsx as E}from"react/jsx-runtime";var C=W(({children:e,tippyOptions:o,...i},r)=>{let{editor:n}=L(),t=H(null);O(()=>{!t.current||!o?.placement||(t.current.setProps({placement:o.placement}),t.current.popperInstance?.update())},[o?.placement]);let p=D(()=>({shouldShow:({editor:m,state:y})=>{let{selection:a}=y,{empty:R}=a;return!(!m.isEditable||m.isActive("image")||R||T(a))},tippyOptions:{onCreate:m=>{t.current=m},moveTransition:"transform 0.15s ease-out",...o},...i}),[i,o]);return n?E("div",{ref:r,children:E(w,{editor:n,...p,children:e})}):null});C.displayName="EditorBubble";import{forwardRef as A}from"react";import{Slot as J}from"@radix-ui/react-slot";import{useCurrentEditor as F}from"@tiptap/react";import{jsx as k}from"react/jsx-runtime";var b=A(({children:e,asChild:o,onSelect:i,...r},n)=>{let{editor:t}=F(),p=o?J:"div";return t?k(p,{ref:n,...r,onClick:()=>i?.(t),children:e}):null});b.displayName="EditorBubbleItem";import{forwardRef as V}from"react";import{CommandEmpty as q,CommandItem as z}from"cmdk";import{useCurrentEditor as G}from"@tiptap/react";import{useAtomValue as K}from"jotai";import{jsx as U}from"react/jsx-runtime";var P=V(({children:e,onCommand:o,...i},r)=>{let{editor:n}=G(),t=K(s);return!n||!t?null:U(z,{ref:r,...i,onSelect:()=>o({editor:n,range:t}),children:e})});P.displayName="EditorCommandItem";var Q=q;export{C as EditorBubble,b as EditorBubbleItem,v as EditorCommand,Q as EditorCommandEmpty,P as EditorCommandItem,x as EditorCommandList,f as EditorContent,g as EditorRoot,No as useEditor};
